!function(e){"use strict";e.fn.bootstrapDualListbox=function(t){return this.each(function(){function l(){w.originalselect.find("option").each(function(t,l){var i=e(l);void 0===i.data("original-index")&&i.data("original-index",_++),void 0===i.data("_selected")&&i.data("_selected",!1)})}function i(){k=0,w.select1.empty(),w.select2.empty(),w.originalselect.find("option").each(function(t,l){var i=e(l);i.prop("selected")?(k++,w.select2.append(i.clone(!0).prop("selected",i.data("_selected")))):w.select1.append(i.clone(!0).prop("selected",i.data("_selected")))}),p(),f(),o()}function n(e,t){return e.replace(/\{(\d+)\}/g,function(e,l){return void 0!==t[l]?t[l]:e})}function o(){if(y.infotext){var e=w.select1.find("option").length,t=w.select2.find("option").length,l=w.originalselect.find("option").length-k,i=k,o="";o=0===l?y.infotextempty:e===l?n(y.infotext,[e,l]):n(y.infotextfiltered,[e,l]),w.info1.html(o),w.box1.toggleClass("filtered",!(e===l||0===l)),o=0===i?y.infotextempty:t===i?n(y.infotext,[t,i]):n(y.infotextfiltered,[t,i]),w.info2.html(o),w.box2.toggleClass("filtered",!(t===i||0===i))}}function a(){w.form.submit(function(e){w.filterinput1.is(":focus")?(e.preventDefault(),w.filterinput1.focusout()):w.filterinput2.is(":focus")&&(e.preventDefault(),w.filterinput2.focusout())}),w.originalselect.on("bootstrapduallistbox.refresh",function(e,t){l(),t?r():(s(),c()),i()}),w.filter1clear.on("click",function(){w.filterinput1.val(""),i()}),w.filter2clear.on("click",function(){w.filterinput2.val(""),i()}),w.movebutton.on("click",function(){b()}),w.moveallbutton.on("click",function(){m()}),w.removebutton.on("click",function(){v()}),w.removeallbutton.on("click",function(){g()}),w.filterinput1.on("change keyup",function(){p()}),w.filterinput2.on("change keyup",function(){f()}),y.moveonselect&&(y.preserveselectiononmove=!1,w.select1.on("change",function(){b()}),w.select2.on("change",function(){v()}))}function s(){w.select1.find("option").each(function(t,l){var i=e(l);w.originalselect.find("option").eq(i.data("original-index")).data("_selected",i.prop("selected"))})}function c(){w.select2.find("option").each(function(t,l){var i=e(l);w.originalselect.find("option").eq(i.data("original-index")).data("_selected",i.prop("selected"))})}function r(){w.select1.find("option").each(function(){w.originalselect.find("option").data("_selected",!1)})}function p(){s(),w.select1.empty().scrollTop(0);var t=new RegExp(e.trim(w.filterinput1.val()),"gi");w.originalselect.find("option").not(":selected").each(function(l,i){var n=e(i),o=!0;i.text.match(t)&&(o=!1,w.select1.append(n.clone(!0).prop("selected",n.data("_selected")))),w.originalselect.find("option").eq(n.data("original-index")).data("filtered1",o)}),o()}function f(){c(),w.select2.empty().scrollTop(0);var t=new RegExp(e.trim(w.filterinput2.val()),"gi");w.originalselect.find("option:selected").each(function(l,i){var n=e(i),o=!0;i.text.match(t)&&(o=!1,w.select2.append(n.clone(!0).prop("selected",n.data("_selected")))),w.originalselect.find("option").eq(n.data("original-index")).data("filtered2",o)}),o()}function d(t){t.find("option").sort(function(t,l){return e(t).data("original-index")>e(l).data("original-index")?1:-1}).appendTo(t)}function u(t,l){w.originalselect.find("option").each(function(i,n){var o=e(n);o.data("original-index")===t&&o.prop("selected",l)})}function b(){"all"===y.preserveselectiononmove?(s(),c()):"moved"===y.preserveselectiononmove&&s(),w.select1.find("option:selected").each(function(t,l){var i=e(l);i.data("filtered1")||u(i.data("original-index"),!0)}),i(),d(w.select2)}function v(){"all"===y.preserveselectiononmove?(s(),c()):"moved"===y.preserveselectiononmove&&c(),w.select2.find("option:selected").each(function(t,l){var i=e(l);i.data("filtered2")||u(i.data("original-index"),!1)}),i(),d(w.select1)}function m(){"all"===y.preserveselectiononmove?(s(),c()):"moved"===y.preserveselectiononmove&&s(),w.originalselect.find("option").each(function(t,l){var i=e(l);i.data("filtered1")||i.prop("selected",!0)}),i()}function g(){"all"===y.preserveselectiononmove?(s(),c()):"moved"===y.preserveselectiononmove&&c(),w.originalselect.find("option").each(function(t,l){var i=e(l);i.data("filtered2")||i.prop("selected",!1)}),i()}var h=e(this);if(!h.is("select"))return h.find("select").each(function(l,i){e(i).bootstrapDualListbox(t)});if(h.data("duallistbox_generated"))return this;var x,y=e.extend({bootstrap2compatible:!1,preserveselectiononmove:!1,moveonselect:!0,initialfilterfrom:"",initialfilterto:"",helperselectnamepostfix:"_helper",infotext:"Showing all {0}",infotextfiltered:'<span class="label label-warning">Filtered</span> {0} from {1}',infotextempty:"Empty list",selectorminimalheight:100,showfilterinputs:!0,filterplaceholder:"Filter",filtertextclear:"show all",nonselectedlistlabel:!1,selectedlistlabel:!1},t);x=y.bootstrap2compatible?e('<div class="row-fluid bootstrap-duallistbox-container bs2compatible"><div class="span6 box1"><span class="info-container"><span class="info"></span><button type="button" class="btn btn-mini clear1 pull-right">'+y.filtertextclear+'</button></span><input placeholder="'+y.filterplaceholder+'" class="filter" type="text"><div class="btn-group buttons"><button type="button" class="btn moveall" title="Move all"><i class="fa fa-arrow-right"></i><i class="fa fa-arrow-right"></i></button><button type="button" class="btn move" title="Move selected"><i class="fa fa-arrow-right"></i></button></div><select multiple="multiple" data-duallistbox_generated="true"></select></div><div class="span6 box2"><span class="info-container"><span class="info"></span><button type="button" class="btn btn-mini clear2 pull-right">'+y.filtertextclear+'</button></span><input placeholder="'+y.filterplaceholder+'" class="filter" type="text"><div class="btn-group buttons"><button type="button" class="btn remove" title="Remove selected"><i class="fa fa-arrow-left"></i></button><button type="button" class="btn removeall" title="Remove all"><i class="fa fa-arrow-left"></i><i class="fa fa-arrow-left"></i></button></div><select multiple="multiple" data-duallistbox_generated="true"></select></div></div>').insertBefore(h):e('<div class="row bootstrap-duallistbox-container"><div class="col-md-6 box1"><span class="info-container"><span class="info"></span><button type="button" class="btn btn-default btn-xs clear1 pull-right">'+y.filtertextclear+'</button></span><input placeholder="'+y.filterplaceholder+'" class="filter" type="text"><div class="btn-group buttons"><button type="button" class="btn btn-default moveall" title="Move all"><i class="glyphicon glyphicon-arrow-right"></i><i class="glyphicon glyphicon-arrow-right"></i></button><button type="button" class="btn btn-default move" title="Move selected"><i class="glyphicon glyphicon-arrow-right"></i></button></div><select multiple="multiple" data-duallistbox_generated="true"></select></div><div class="col-md-6 box2"><span class="info-container"><span class="info"></span><button type="button" class="btn btn-default btn-xs clear2 pull-right">'+y.filtertextclear+'</button></span><input placeholder="'+y.filterplaceholder+'" class="filter" type="text"><div class="btn-group buttons"><button type="button" class="btn btn-default remove" title="Remove selected"><i class="glyphicon glyphicon-arrow-left"></i></button><button type="button" class="btn btn-default removeall" title="Remove all"><i class="glyphicon glyphicon-arrow-left"></i><i class="glyphicon glyphicon-arrow-left"></i></button></div><select multiple="multiple" data-duallistbox_generated="true"></select></div></div>').insertBefore(h);var w={originalselect:h,box1:e(".box1",x),box2:e(".box2",x),filterinput1:e(".box1 .filter",x),filterinput2:e(".box2 .filter",x),filter1clear:e(".box1 .clear1",x),filter2clear:e(".box2 .clear2",x),info1:e(".box1 .info",x),info2:e(".box2 .info",x),select1:e(".box1 select",x),select2:e(".box2 select",x),movebutton:e(".box1 .move",x),removebutton:e(".box2 .remove",x),moveallbutton:e(".box1 .moveall",x),removeallbutton:e(".box2 .removeall",x),form:e(e(".box1 .filter",x)[0].form)},_=0,k=0,C=/android/i.test(navigator.userAgent.toLowerCase());!function(){C&&(y.moveonselect=!0,y.preserveselectiononmove=!1),y.moveonselect&&x.addClass("moveonselect");var e=w.originalselect.attr("name")||"";if(y.nonselectedlistlabel){var t="bootstrap-duallistbox-nonselected-list_"+e;w.box1.prepend('<label for="'+t+'">'+y.nonselectedlistlabel+"</label>"),w.select1.prop("id",t)}if(y.selectedlistlabel){var n="bootstrap-duallistbox-selected-list_"+e;w.box2.prepend('<label for="'+n+'">'+y.selectedlistlabel+"</label>"),w.select2.prop("id",n)}y.helperselectnamepostfix&&(w.select1.attr("name",e+y.helperselectnamepostfix+"1"),w.select2.attr("name",e+y.helperselectnamepostfix+"2"));var o=w.originalselect.attr("class");void 0!==o&&o&&((o=o.match(/\bspan[1-9][0-2]?/))||(o=(o=w.originalselect.attr("class")).match(/\bcol-md-[1-9][0-2]?/))),o&&x.addClass(o.toString());var s=w.originalselect.height()<y.selectorminimalheight?y.selectorminimalheight:w.originalselect.height();w.select1.height(s),w.select2.height(s),w.originalselect.addClass("hide"),l(),y.showfilterinputs?(w.filterinput1.val(y.initialfilterfrom),w.filterinput2.val(y.initialfilterto)):(w.filterinput1.hide(),w.filterinput2.hide()),a(),i()}()})}}(jQuery);